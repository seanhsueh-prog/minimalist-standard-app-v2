<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Minimalist V28.5 - Final Integration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* [CORE VISUALS - V26.5 SOUL] */
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            -webkit-font-smoothing: antialiased; 
            background-color: #111; 
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center; 
        }
        
        .app-container {
            width: 100%;
            max-width: 480px; 
            height: 100vh; 
            background-color: #ffffff;
            position: relative;
            box-shadow: 0 0 60px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content-area {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 90px; 
            scrollbar-width: none;
        }
        .content-area::-webkit-scrollbar { display: none; }

        /* Ghost Engine - V26.5 Scale Standards */
        .ghost-canvas-container {
            position: relative;
            width: 100%;
            aspect-ratio: 4 / 5; 
            background-color: #f9fafb;
            overflow: hidden;
            border-bottom: 1px solid #f0f0f0;
        }

        .ghost-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain; 
            object-position: bottom center;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
            will-change: transform, opacity; 
        }

        /* The Holy Scale (強制執行 3.8 倍縮放) */
        .layer-shoes {
            transform: scale(3.8) translateZ(0);
            transform-origin: bottom center;
        }

        .floating-controls {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-40%); 
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 30;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(8px);
            border-radius: 99px; 
            padding: 4px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border: 1px solid rgba(255,255,255,0.5);
        }

        .mini-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 700;
            color: #9ca3af;
            cursor: pointer;
            margin-bottom: 2px;
            transition: all 0.2s;
        }
        .mini-btn.active {
            background-color: #000;
            color: #fff;
            transform: scale(1.05);
        }

        /* Grid System - V28.2 Proportions */
        .warehouse-item {
            aspect-ratio: 3/4;
            border: 1px solid #f3f4f6;
            border-radius: 12px;
            background: #fff;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .warehouse-item:active { transform: scale(0.96); }
        .warehouse-item img {
            width: 100%;
            height: 85%;
            object-fit: contain;
            padding: 8px;
        }

        .cat-pill {
            padding: 6px 14px;
            border-radius: 999px;
            font-size: 11px;
            font-weight: 600;
            white-space: nowrap;
            transition: all 0.2s;
            border: 1px solid #eee;
            cursor: pointer;
        }
        .cat-pill.active { background: #000; color: #fff; border-color: #000; }

        .color-dot {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        .color-dot.active { border-color: #000; transform: scale(1.1); }

        .bottom-nav {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid #eee;
            display: flex;
            padding: 12px 0 24px 0; 
            z-index: 50;
        }
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            font-size: 10px;
            font-weight: 600;
            color: #9ca3af;
            cursor: pointer;
        }
        .nav-item.active { color: #000; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useCallback } = React;

        // --- 1. SOURCE OF TRUTH (92 Physical Files) ---
        const RAW_MANIFEST = [
            "o_suits_bk_01.png", "o_suits_br_01.png", "o_suits_gy_01.png", "o_suits_nv_01.png",
            "o_suitd_bk_01.png", "o_suitd_br_01.png", "o_suitd_gy_01.png", "o_suitd_nv_01.png",
            "o_leather_bk_01.png", "o_leather_bk_02.png", "o_leather_bk_03.png", "o_leather_bk_04.png", 
            "o_leather_br_01.png", "o_leather_br_02.png", "o_leather_br_03.png",
            "o_jacket_bk_01.png", "o_jacket_bk_03.png", "o_jacket_bk_04.png",
            "o_jacket_br_01.png", "o_jacket_br_02.png", "o_jacket_br_03.png",
            "o_jacket_gn_01.png", "o_jacket_gn_02.png", "o_jacket_gn_03.png",
            "o_jacket_gy_01.png", "o_jacket_gy_02.png", "o_jacket_gy_03.png", "o_jacket_gy_04.png",
            "o_jacket_nv_01.png", "o_jacket_nv_02.png", "o_jacket_nv_03.png",
            "o_down_gy_01.png", "o_down_nv_01.png", "o_down_wh_01.png",
            "i_knits_be_01.png", "i_knits_bk_01.png", "i_knits_br_01.png", "i_knits_gy_01.png", "i_knits_rd_01.png",
            "i_knitn_be_01.png", "i_knitn_bk_01.png", "i_knitn_br_01.png", "i_knitn_gy_01.png", "i_knitn_rd_01.png",
            "i_shirts_bk_01.png", "i_shirts_nv_01.png", "i_shirts_wh_01.png",
            "i_shirtn_bk_01.png", "i_shirtn_nv_01.png", "i_shirtn_wh_01.png",
            "i_sweats_bk_01.png", "i_sweats_gn_01.png", "i_sweats_gy_01.png", "i_sweats_nv_01.png", "i_sweats_wh_01.png",
            "i_tshirts_bk_01.png", "i_tshirts_gy_01.png", "i_tshirts_wh_01.png",
            "i_tshirtn_bk_01.png", "i_tshirtn_gy_01.png", "i_tshirtn_nv_01.png", "i_tshirtn_wh_01.png",
            "b_cargo_be_01.png", "b_cargo_bk_01.png", "b_cargo_gn_01.png",
            "b_chino_be_01.png", "b_jeans_bk_01.png", "b_jeans_nv_01.png",
            "b_sport_bk_01.png", "b_sport_gy_01.png", "b_sport_nv_01.png", "b_sport_wh_01.png",
            "b_suit_be_02.png", "b_suit_bk_01.png", "b_suit_bk_02.png", "b_suit_br_01.png", "b_suit_br_02.png", 
            "b_suit_gn_01.png", "b_suit_gn_02.png", "b_suit_gy_01.png", "b_suit_gy_02.png", "b_suit_nv_01.png",
            "s_dress_bk_01.png", "s_dress_br_01.png",
            "s_leasnk_bk_01.png", "s_leasnk_wh_01.png",
            "s_loafer_bk_01.png", "s_loafer_br_01.png", "s_loafer_nv_01.png",
            "s_sport_bk_01.png", "s_sport_gy_01.png", "s_sport_wh_01.png"
        ];

        // --- 2. LABELS & MAPS (V27.8 Style) ---
        const LABEL_MAP = {
            o: '外套', i: '內搭', b: '下身', s: '鞋款',
            suits: '單排西裝', suitd: '雙排西裝', leather: '皮衣', jacket: '夾克', down: '羽絨',
            knits: '針織', knitn: '針織背心', shirts: '襯衫', shirtn: '襯衫背心', sweats: '衛衣', tshirts: 'T-shirt', tshirtn: 'T-shirt背心',
            cargo: '工裝褲', chino: '卡其褲', jeans: '牛仔褲', sport: '運動褲', suit: '西裝褲',
            dress: '皮鞋', leasnk: '休閒鞋', loafer: '樂福鞋',
            bk: '黑', wh: '白', gy: '灰', nv: '深藍', be: '大地', br: '棕', gn: '軍綠', rd: '酒紅'
        };

        const COLOR_HEX = { bk:'#1A1A1A', wh:'#F3F4F6', gy:'#6B7280', nv:'#1E3A8A', be:'#C3B091', br:'#5D4037', gn:'#355E3B', rd:'#7F1D1D' };
        
        const STYLE_RULES = {
            suits: ['Formal', 'Smart'], suitd: ['Formal', 'Smart'], leather: ['Smart', 'Casual'], jacket: ['Smart', 'Casual'], down: ['Casual'],
            knits: ['Smart', 'Casual'], knitn: ['Smart', 'Casual'], shirts: ['Formal', 'Smart'], shirtn: ['Formal', 'Smart'], sweats: ['Casual'], tshirts: ['Smart', 'Casual'], tshirtn: ['Smart', 'Casual'],
            suit: ['Formal', 'Smart'], jeans: ['Smart', 'Casual'], chino: ['Smart', 'Casual'], cargo: ['Casual'], sport: ['Casual'],
            dress: ['Formal', 'Smart'], loafer: ['Formal', 'Smart'], leasnk: ['Smart', 'Casual']
        };

        // --- 3. DATABASE (Minimalist_Vault_Final) ---
        const DB_CONFIG = { name: 'Minimalist_Vault_Final', version: 1, store: 'inventory' };
        const dbHelper = {
            open: () => new Promise((resolve) => {
                const req = indexedDB.open(DB_CONFIG.name, DB_CONFIG.version);
                req.onupgradeneeded = e => e.target.result.createObjectStore(DB_CONFIG.store, { keyPath: 'uuid' });
                req.onsuccess = e => resolve(e.target.result);
            }),
            getAll: async () => {
                const db = await dbHelper.open();
                return new Promise(r => {
                    const req = db.transaction(DB_CONFIG.store, 'readonly').objectStore(DB_CONFIG.store).getAll();
                    req.onsuccess = () => r(req.result);
                });
            },
            add: async (item) => {
                const db = await dbHelper.open();
                const tx = db.transaction(DB_CONFIG.store, 'readwrite');
                item.uuid = Date.now().toString() + Math.random().toString(16).slice(2);
                tx.objectStore(DB_CONFIG.store).add(item);
                return new Promise(r => tx.oncomplete = () => r(true));
            },
            del: async (uuid) => {
                const db = await dbHelper.open();
                const tx = db.transaction(DB_CONFIG.store, 'readwrite');
                tx.objectStore(DB_CONFIG.store).delete(uuid);
                return new Promise(r => tx.oncomplete = () => r(true));
            }
        };

        // --- 4. PARSER ---
        const SYSTEM_ITEMS = RAW_MANIFEST.map(fn => {
            const parts = fn.replace('.png','').split('_');
            const slotCode = parts[0];
            const catCode = parts[1];
            const colorCode = parts[2];
            let sleeve = 'standard';
            if (slotCode === 'i') {
                if (catCode.endsWith('n')) sleeve = 'sleeveless';
                else sleeve = 'sleeved';
            }
            return {
                id: fn, filename: fn, displayUrl: `./${fn}`,
                slot: slotCode === 'o' ? 'outer' : (slotCode === 'i' ? 'inner' : (slotCode === 'b' ? 'bottom' : 'shoes')),
                catCode, colorCode, sleeve,
                label: LABEL_MAP[catCode] || catCode, colorLabel: LABEL_MAP[colorCode] || colorCode
            };
        });

        // --- 5. COMPONENTS ---
        const Icon = ({ name, className }) => {
            const icons = {
                hanger: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 2a5 5 0 0 1 4.9 6H7.1a5 5 0 0 1 4.9-6Z"/><path d="M21 21H3V11c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v10Z"/></svg>,
                grid: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>,
                plus: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 5v14M5 12h14"/></svg>,
                trash: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>,
                dice: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="8" cy="8" r="1.5" fill="currentColor"/><circle cx="16" cy="16" r="1.5" fill="currentColor"/><circle cx="8" cy="16" r="1.5" fill="currentColor"/></svg>,
                x: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            };
            return icons[name] ? React.cloneElement(icons[name], { className }) : null;
        };

        const App = () => {
            const [wardrobe, setWardrobe] = useState([]);
            const [outfit, setOutfit] = useState({ outer: null, inner: null, bottom: null, shoes: null });
            const [activeTab, setActiveTab] = useState('styling');
            const [occasion, setOccasion] = useState('Smart');
            const [season, setSeason] = useState('Winter');
            
            // Warehouse Filter State
            const [whSlot, setWhSlot] = useState('outer');
            const [whCat, setWhCat] = useState('');
            const [whColor, setWhColor] = useState('');

            const loadData = async () => setWardrobe(await dbHelper.getAll());
            useEffect(() => { loadData(); }, []);

            // AUTO-FILTER LOGIC (V27.8)
            useEffect(() => {
                const cats = [...new Set(SYSTEM_ITEMS.filter(i => i.slot === whSlot).map(i => i.catCode))];
                setWhCat(cats[0] || '');
            }, [whSlot]);

            useEffect(() => {
                const colors = [...new Set(SYSTEM_ITEMS.filter(i => i.slot === whSlot && i.catCode === whCat).map(i => i.colorCode))];
                setWhColor(colors[0] || '');
            }, [whCat, whSlot]);

            const handleAddItem = async (item) => {
                const styles = STYLE_RULES[item.catCode] || ['Casual'];
                await dbHelper.add({ ...item, styles });
                await loadData();
            };

            const handleDeleteItem = async (uuid) => {
                if (!confirm("確定移除此單品？")) return;
                await dbHelper.del(uuid);
                await loadData();
                setOutfit(p => {
                    const n = {...p};
                    Object.keys(n).forEach(k => { if(n[k]?.uuid === uuid) n[k] = null; });
                    return n;
                });
            };

            // SMART MATCHING ENGINE (V26.5 RELOADED)
            const handleRandom = useCallback((targetOcc = occasion, targetSea = season) => {
                const newOutfit = { ...outfit };
                
                const getPool = (slot) => wardrobe.filter(i => i.slot === slot && i.styles.includes(targetOcc));

                // 1. Jacket Logic
                if (targetSea === 'Summer' && targetOcc !== 'Formal') {
                    newOutfit.outer = null;
                } else {
                    const oPool = getPool('outer');
                    newOutfit.outer = oPool.length ? oPool[Math.floor(Math.random() * oPool.length)] : null;
                }

                // 2. Inner Sleeve Link (THE CORE RULE)
                let iPool = getPool('inner');
                if (newOutfit.outer) {
                    iPool = iPool.filter(i => i.sleeve === 'sleeveless'); // 有外套必無袖
                } else {
                    iPool = iPool.filter(i => i.sleeve === 'sleeved'); // 沒外套必有袖
                }
                if (targetSea === 'Summer') {
                    iPool = iPool.filter(i => !['knits', 'knitn', 'sweats'].includes(i.catCode));
                }
                newOutfit.inner = iPool.length ? iPool[Math.floor(Math.random() * iPool.length)] : null;

                // 3. Bottom & Formal Suit Sync
                let bPool = getPool('bottom');
                if (targetOcc === 'Formal' && newOutfit.outer?.catCode.startsWith('suit')) {
                    const matching = bPool.filter(b => b.catCode === 'suit' && b.colorCode === newOutfit.outer.colorCode);
                    newOutfit.bottom = matching.length ? matching[0] : (bPool.length ? bPool[Math.floor(Math.random() * bPool.length)] : null);
                } else {
                    newOutfit.bottom = bPool.length ? bPool[Math.floor(Math.random() * bPool.length)] : null;
                }

                // 4. Shoes
                const sPool = getPool('shoes');
                newOutfit.shoes = sPool.length ? sPool[Math.floor(Math.random() * sPool.length)] : null;

                setOutfit(newOutfit);
            }, [wardrobe, occasion, season, outfit]);

            return (
                <div className="app-container">
                    {/* Header */}
                    <div className="px-6 pt-6 pb-2 bg-white flex justify-between items-center z-20">
                        <h1 className="text-lg font-bold tracking-tighter">Minimalist <span className="bg-black text-white text-[10px] px-2 py-0.5 rounded-full">V28.5 FINAL</span></h1>
                    </div>

                    <div className="content-area bg-gray-50">
                        {/* TAB: STYLING (V26.5 SPIRIT) */}
                        {activeTab === 'styling' && (
                            <div className="animate-fade-in">
                                <div className="ghost-canvas-container mx-auto relative bg-white">
                                    {outfit.shoes && <img src={outfit.shoes.displayUrl} className="ghost-layer z-10 layer-shoes" alt="Shoes" />}
                                    {outfit.bottom && <img src={outfit.bottom.displayUrl} className="ghost-layer z-20" alt="Bottom" />}
                                    {outfit.inner && <img src={outfit.inner.displayUrl} className="ghost-layer z-30" alt="Inner" />}
                                    {outfit.outer && <img src={outfit.outer.displayUrl} className="ghost-layer z-40" alt="Outer" />}
                                    
                                    {!outfit.shoes && !outfit.bottom && !outfit.inner && !outfit.outer && (
                                        <div className="absolute inset-0 flex items-center justify-center text-gray-300 text-[10px] tracking-[0.2em] font-bold">WARDROBE EMPTY</div>
                                    )}
                                </div>

                                <div className="floating-controls">
                                    <div className="control-group mb-3">
                                        {['Winter', 'Summer'].map(s => (
                                            <button key={s} onClick={() => { setSeason(s); handleRandom(occasion, s); }} className={`mini-btn ${season === s ? 'active' : ''}`}>{s === 'Winter' ? '冬' : '夏'}</button>
                                        ))}
                                    </div>
                                    <div className="control-group">
                                        {['Formal', 'Smart', 'Casual'].map(o => (
                                            <button key={o} onClick={() => { setOccasion(o); handleRandom(o, season); }} className={`mini-btn ${occasion === o ? 'active' : ''}`}>{o.slice(0, 1)}</button>
                                        ))}
                                    </div>
                                </div>

                                <div className="px-6 mt-4">
                                    <div className="grid grid-cols-4 gap-2 mb-4">
                                        {['outer','inner','bottom','shoes'].map(slot => (
                                            <div key={slot} className="relative aspect-square rounded-xl border flex items-center justify-center overflow-hidden bg-white shadow-sm transition-all border-gray-100">
                                                {outfit[slot] ? (
                                                    <img src={outfit[slot].displayUrl} className="w-full h-full object-contain" style={slot==='shoes'?{transform:'scale(3.5)',transformOrigin:'bottom'}:{}} />
                                                ) : <span className="text-[10px] text-gray-300 font-bold uppercase">{slot[0]}</span>}
                                                {outfit[slot] && <button onClick={()=>setOutfit(p=>({...p,[slot]:null}))} className="absolute top-0 right-0 p-1 bg-white/80"><Icon name="x" className="w-3 text-gray-400"/></button>}
                                            </div>
                                        ))}
                                    </div>
                                    <button onClick={() => handleRandom(occasion, season)} className="w-full py-4 bg-black text-white rounded-2xl text-xs font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-transform"><Icon name="dice" className="w-4 h-4" /> 智慧搭配</button>
                                </div>
                            </div>
                        )}

                        {/* TAB: CLOSET (V27.8 Classification) */}
                        {activeTab === 'closet' && (
                            <div className="p-6 bg-white min-h-full">
                                <h2 className="text-xl font-bold mb-6">我的衣櫥 ({wardrobe.length})</h2>
                                <div className="grid grid-cols-3 gap-3">
                                    {wardrobe.map(item => (
                                        <div key={item.uuid} className="warehouse-item relative group border-none bg-gray-50" onClick={() => { setOutfit(p => ({...p, [item.slot]: item})); setActiveTab('styling'); }}>
                                            <img src={item.displayUrl} style={item.slot==='shoes'?{transform:'scale(3.5)',transformOrigin:'bottom'}:{}} />
                                            <div className="absolute bottom-1 right-1 w-2 h-2 rounded-full" style={{background: COLOR_HEX[item.colorCode]}}></div>
                                            <button onClick={e => { e.stopPropagation(); handleDeleteItem(item.uuid); }} className="absolute top-1 right-1 p-1 text-gray-300 hover:text-red-500"><Icon name="trash" className="w-3 h-3" /></button>
                                        </div>
                                    ))}
                                </div>
                                {wardrobe.length === 0 && <div className="py-20 text-center text-gray-300 text-xs">衣櫥目前空空如也</div>}
                            </div>
                        )}

                        {/* TAB: WAREHOUSE (V28.2 Grid + V27.8 Sorting) */}
                        {activeTab === 'add' && (
                            <div className="p-6 bg-white min-h-full">
                                <h2 className="text-xl font-bold mb-4">單品倉庫</h2>
                                
                                <div className="flex gap-2 mb-4 overflow-x-auto no-scrollbar">
                                    {['outer','inner','bottom','shoes'].map(s => (
                                        <button key={s} onClick={() => setWhSlot(s)} className={`px-4 py-1.5 rounded-lg text-xs font-bold border transition-colors ${whSlot === s ? 'bg-black text-white border-black' : 'bg-white text-gray-400 border-gray-100'}`}>{LABEL_MAP[s[0]]}</button>
                                    ))}
                                </div>

                                <div className="flex gap-2 mb-4 overflow-x-auto no-scrollbar">
                                    {[...new Set(SYSTEM_ITEMS.filter(i => i.slot === whSlot).map(i => i.catCode))].map(c => (
                                        <button key={c} onClick={() => setWhCat(c)} className={`cat-pill ${whCat === c ? 'active' : 'bg-gray-50 text-gray-400'}`}>{LABEL_MAP[c]}</button>
                                    ))}
                                </div>

                                <div className="flex gap-4 mb-6 overflow-x-auto no-scrollbar py-1">
                                    {[...new Set(SYSTEM_ITEMS.filter(i => i.slot === whSlot && i.catCode === whCat).map(i => i.colorCode))].map(col => (
                                        <div key={col} onClick={() => setWhColor(col)} className={`color-dot ${whColor === col ? 'active' : ''}`} style={{background: COLOR_HEX[col]}}></div>
                                    ))}
                                </div>

                                <div className="grid grid-cols-2 gap-3 pb-24">
                                    {SYSTEM_ITEMS.filter(i => i.slot === whSlot && i.catCode === whCat && i.colorCode === whColor).map((item, idx) => (
                                        <div key={idx} onClick={() => handleAddItem(item)} className="warehouse-item group border-dashed border-2 hover:border-black transition-all">
                                            <img src={item.displayUrl} style={whSlot === 'shoes' ? {transform:'scale(3.5)',transformOrigin:'bottom'} : {}} />
                                            <div className="text-[9px] font-bold text-gray-400 mt-1">{item.label} / {item.colorLabel}</div>
                                            <div className="absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity">
                                                <span className="bg-black text-white text-[10px] px-3 py-1.5 rounded-full font-bold shadow-lg">入庫</span>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Bottom Nav */}
                    <div className="bottom-nav">
                        <div onClick={() => setActiveTab('styling')} className={`nav-item ${activeTab === 'styling' ? 'active' : ''}`}><Icon name="hanger" className="w-6 h-6" /><span>搭配</span></div>
                        <div onClick={() => setActiveTab('closet')} className={`nav-item ${activeTab === 'closet' ? 'active' : ''}`}><Icon name="grid" className="w-6 h-6" /><span>衣櫥</span></div>
                        <div onClick={() => setActiveTab('add')} className={`nav-item ${activeTab === 'add' ? 'active' : ''}`}><Icon name="plus" className="w-6 h-6" /><span>倉庫</span></div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>